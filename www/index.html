<!DOCTYPE html>
<html lang="pt_BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>

    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="lib/ionic/css/ionicons.css" rel="stylesheet">

    <link href="css/style.css" rel="stylesheet">

    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->

    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>
    <!-- your app's js -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/PushNotification.js"></script>
    <!--<script src="js/index.js"></script>-->
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/directives.js"></script>
    <script src="js/angular-sanitize.js"></script>
    <script src="js/angular-timeago.js"></script>
</head>

<body ng-app="starter" onload="onLoad()" animation="slide-left-right">
<ion-nav-view></ion-nav-view>
<script type="text/javascript">
    var app = {
        successHandler: function(result) {
        alert('Callback Success! Result = '+result)
        },
        errorHandler:function(error) {
            alert(error);
        },
        onNotificationGCM: function(e) {
            switch( e.event )
            {
                case 'registered':
                    if ( e.regid.length > 0 )
                    {
                        console.log("Regid " + e.regid);
                        alert('registration id = '+e.regid);
                    }
                    break;

                case 'message':
                    // this is the actual push notification. its format depends on the data model from the push server
                    alert('message = '+e.message+' msgcnt = '+e.msgcnt);
                    break;

                case 'error':
                    alert('GCM error = '+e.msg);
                    break;

                default:
                    alert('An unknown GCM event has occurred');
                    break;
            }
        }
    };
    var pushNotification = window.plugins.pushNotification;

    function onDeviceReady() {
        pushNotification.register(app.successHandler, app.errorHandler,{"senderID":"1092690435924","ecb":"app.onNotificationGCM"});
    }

    document.addEventListener('deviceready', onDeviceReady, true);
</script>
<script>
    function onLoad() {
        if (( /(ipad|iphone|ipod|android)/i.test(navigator.userAgent) )) {
            document.addEventListener('deviceready', initApp, false);
        } else {
            initApp();
        }
    }
    var admobid = {};
    if (/(android)/i.test(navigator.userAgent)) {
        admobid = { // for Android
            banner: 'ca-app-pub-5653619743139584/9881018333'
        };
    } else if (/(ipod|iphone|ipad)/i.test(navigator.userAgent)) {
        admobid = { // for iOS
            banner: 'ca-app-pub-5653619743139584/5311217930'
        };
    }

    function initApp() {
        if (AdMob) AdMob.createBanner({
            adId: admobid.banner,
            position: AdMob.AD_POSITION.BOTTOM_CENTER,
            autoShow: true
        });
    }

</script>

</body>
</html>
